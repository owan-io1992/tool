language: 'typescript'

tasks:
  init:
    command: 'bun install'
    inputs:
      - 'package.json'
      - 'bun.lock'
    outputs:
      - 'node_modules'

  dev:
    command: 'bun run dev'
    local: true

  lint:
    command: 'bun run lint'
    deps:
      - 'typecheck'
    inputs:
      - 'src/**/*'
      - 'eslint.config.js'

  format:
    command: 'bun run format'
    inputs:
      - 'src/**/*'
      - '.prettierrc'
      - '.prettierignore'

  typecheck:
    command: 'bun run typecheck'
    inputs:
      - 'src/**/*'
      - 'tsconfig.json'
      - 'tsconfig.*.json'

  build:
    command: 'bun run build'
    inputs:
      - 'src/**/*'
    outputs:
      - 'dist'
